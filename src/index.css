/* Tailwindの基本を読み込むっす */
@tailwind base;

/* ★★★ ライトモードを「青みがかった薄いグレー」ベースに修正っす！ ★★★ */
:root {
  /* ライトモードのカラーセット (ハイコントラスト版) */
  --color-brand-primary: 0 123 255;
  /* #007bff (変更なし) */
  --color-brand-secondary: 0 123 255;
  /* #007bff (変更なし) */
  --color-surface-background: 248 250 252;
  /* #f8fafc (slate-50) - ★青みがかったごく薄いグレー */
  --color-surface-container: 255 255 255;
  /* #ffffff (white) - ★カードやモーダルは白 */
  --color-on-surface: 15 23 42;
  /* #0f172a (slate-900) - ★コントラストUP */
  --color-on-surface-variant: 100 116 139;
  /* #64748b (slate-500) - ★コントラストUP */
}

html.dark {
  /* ダークモードのカラーセット (変更なし) */
  --color-brand-primary: 0 145 255;
  /* #0091ff */
  --color-brand-secondary: 0 145 255;
  /* #0091ff */
  --color-surface-background: 24 24 27;
  /* #18181b (Zinc 900) */
  --color-surface-container: 39 39 42;
  /* #27272a (Zinc 800) */
  --color-on-surface: 244 244 245;
  /* #f4f4f5 (Zinc 100) */
  --color-on-surface-variant: 161 161 170;
  /* #a1a1aa (Zinc 400) */
}

/* ★★★ 修正ここまで ★★★ */


@tailwind components;
@tailwind utilities;

/* index.htmlの<style>タグにあったカスタムCSSをコピペするっす */
html,
body {
  font-family: 'IBM Plex Sans JP', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: 'Montserrat', 'IBM Plex Sans JP', sans-serif;
  /* ここで定義した変数を使って色を適用するっす */
  @apply bg-surface-background text-on-surface;
}

.mask-gradient {
  -webkit-mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
  mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
}

/* ドラッグ中のアイテム本体のスタイル (リッチ化) */
.dragging-item {
  @apply ring-2 ring-brand-primary bg-surface-container;
  /* 青い枠線で「掴んでる感」を強調 */
  opacity: 0.95;
  transform: scale(1.05);
  /* 1.03 -> 1.05 に拡大率アップ */
  box-shadow: 0 20px 30px -5px rgba(0, 0, 0, 0.3), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  /* シャドウを調整 */
  border-radius: 1rem;
  cursor: grabbing;
  z-index: 50;
  /* 他の要素より確実に前に出るように */
}

/* 全てのDJアイテムラッパー（リスト項目） */
.dj-list-item {
  position: relative;
  transition: transform 0.3s cubic-bezier(0.2, 0, 0, 1);
  z-index: 1;
}


/* / * 上側に線を表示 * /
.drop-indicator-before::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  height: 4px;
  background-color: rgb(var(--color-brand-primary)); / 
  border-radius: 2px;
  top: -6px;
  pointer-events: none;
}

/ * 下側に線を表示 * /
.drop-indicator-after::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  height: 4px;
  background-color: rgb(var(--color-brand-primary)); / 
  border-radius: 2px;
  bottom: -6px;
  pointer-events: none;
}
*/


/* ▼▼▼ Safari 14 互換性対応 ▼▼▼ */
@layer utilities {
  @supports not (aspect-ratio: 1 / 1) {
    .aspect-square {
      position: relative;
      height: 0;
      padding-bottom: 100%;
    }

    .aspect-square>* {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  }
}

/* ▲▲▲ Safari 14 互換性対応 ▲▲▲ */

.dragging-no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.dragging-no-select .cursor-grab {
  cursor: grabbing !important;
}

body.debug-layout * {
  outline: 1px solid rgba(255, 0, 0, 0.15) !important;
  background-color: rgba(255, 0, 0, 0.02) !important;
}